{"ast":null,"code":"import _slicedToArray from\"/Users/hung-hsilin/Documents/LaiProject/doordash-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Card,List,message,Select,Tooltip}from\"antd\";import{useEffect,useState}from\"react\";import{addItemToCart,getMenus,getRestaurants}from\"../utils\";import{PlusOutlined}from\"@ant-design/icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Option=Select.Option;var AddToCartButton=function AddToCartButton(_ref){var itemId=_ref.itemId;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var AddToCart=function AddToCart(){setLoading(true);addItemToCart(itemId).then(function(){return message.success(\"Successfully add item\");}).catch(function(err){return message.error(err.message);}).finally(function(){setLoading(false);});};return/*#__PURE__*/_jsx(Tooltip,{title:\"Add to shopping cart\",children:/*#__PURE__*/_jsx(Button,{loading:loading,type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:AddToCart})});};var FoodList=function FoodList(){var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),foodData=_useState4[0],setFoodData=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),curRest=_useState6[0],setCurRest=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),restaurants=_useState8[0],setRestaurants=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loadingRest=_useState12[0],setLoadingRest=_useState12[1];useEffect(function(){setLoadingRest(true);getRestaurants().then(function(data){setRestaurants(data);}).catch(function(err){message.error(err.message);}).finally(function(){setLoadingRest(false);});},[]);useEffect(function(){if(curRest){setLoading(true);getMenus(curRest).then(function(data){setFoodData(data);}).catch(function(err){message.error(err.message);}).finally(function(){setLoading(false);});}},[curRest]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Select,{value:curRest,onSelect:function onSelect(value){return setCurRest(value);},placeholder:\"Select a restaurant\",loading:loadingRest,style:{width:300},onChange:function onChange(){},children:restaurants.map(function(item){return/*#__PURE__*/_jsx(Option,{value:item.id,children:item.name},item.id);})}),curRest&&/*#__PURE__*/_jsx(List,{style:{marginTop:20},loading:loading,grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:3,xxl:3},dataSource:foodData,renderItem:function renderItem(item){return/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Card,{title:item.name,extra:/*#__PURE__*/_jsx(AddToCartButton,{itemId:item.id}),children:[/*#__PURE__*/_jsx(\"img\",{src:item.imageUrl,alt:item.name,style:{height:\"auto\",width:\"100%\",display:\"block\"}}),\"Price: \".concat(item.price)]})});}})]});};export default FoodList;","map":{"version":3,"sources":["/Users/hung-hsilin/Documents/LaiProject/doordash-app/src/components/FoodList.js"],"names":["Button","Card","List","message","Select","Tooltip","useEffect","useState","addItemToCart","getMenus","getRestaurants","PlusOutlined","Option","AddToCartButton","itemId","loading","setLoading","AddToCart","then","success","catch","err","error","finally","FoodList","foodData","setFoodData","curRest","setCurRest","restaurants","setRestaurants","loadingRest","setLoadingRest","data","value","width","map","item","id","name","marginTop","gutter","xs","sm","md","lg","xl","xxl","imageUrl","height","display","price"],"mappings":"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","sourcesContent":["import { Button, Card, List, message, Select, Tooltip } from \"antd\";\nimport { useEffect, useState } from \"react\";\nimport { addItemToCart, getMenus, getRestaurants } from \"../utils\";\nimport { PlusOutlined } from \"@ant-design/icons\";\n\nconst { Option } = Select;\n\nconst AddToCartButton = ({ itemId }) => {\n    const [loading, setLoading] = useState(false);\n\n    const AddToCart = () => {\n        setLoading(true);\n        addItemToCart(itemId)\n            .then(() => message.success(`Successfully add item`))\n            .catch((err) => message.error(err.message))\n            .finally(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <Tooltip title=\"Add to shopping cart\">\n            <Button\n                loading={loading}\n                type=\"primary\"\n                icon={<PlusOutlined />}\n                onClick={AddToCart}\n            />\n        </Tooltip>\n    );\n};\n\nconst FoodList = () => {\n    const [foodData, setFoodData] = useState([]);\n    const [curRest, setCurRest] = useState();\n    const [restaurants, setRestaurants] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [loadingRest, setLoadingRest] = useState(false);\n\n    useEffect(() => {\n        setLoadingRest(true);\n        getRestaurants()\n            .then((data) => {\n                setRestaurants(data);\n            })\n            .catch((err) => {\n                message.error(err.message);\n            })\n            .finally(() => {\n                setLoadingRest(false);\n            });\n    }, []);\n\n    useEffect(() => {\n        if (curRest) {\n            setLoading(true);\n            getMenus(curRest)\n                .then((data) => {\n                    setFoodData(data);\n                })\n                .catch((err) => {\n                    message.error(err.message);\n                })\n                .finally(() => {\n                    setLoading(false);\n                });\n        }\n    }, [curRest]);\n\n    return (\n        <>\n            <Select\n                value={curRest}\n                onSelect={(value) => setCurRest(value)}\n                placeholder=\"Select a restaurant\"\n                loading={loadingRest}\n                style={{ width: 300 }}\n                onChange={() => {}}\n            >\n                {restaurants.map((item) => {\n                    return <Option key = {item.id} value={item.id}>{item.name}</Option>;\n                })}\n            </Select>\n            {curRest && (\n                <List\n                    style={{ marginTop: 20 }}\n                    loading={loading}\n                    grid={{\n                        gutter: 16,\n                        xs: 1,\n                        sm: 2,\n                        md: 4,\n                        lg: 4,\n                        xl: 3,\n                        xxl: 3,\n                    }}\n                    dataSource={foodData}\n                    renderItem={(item) => (\n                        <List.Item>\n                            <Card\n                                title={item.name}\n                                extra={<AddToCartButton itemId={item.id} />}\n                            >\n                                <img\n                                    src={item.imageUrl}\n                                    alt={item.name}\n                                    style={{ height: \"auto\", width: \"100%\", display: \"block\" }}\n                                />\n                                {`Price: ${item.price}`}\n                            </Card>\n                        </List.Item>\n                    )}\n                />\n            )}\n        </>\n    );\n};\n\nexport default FoodList;\n\n"]},"metadata":{},"sourceType":"module"}